!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("rxjs"),require("@angular/core"),require("@ionic/angular"),require("@ionic-super-tabs/angular"),require("jquery")):"function"==typeof define&&define.amd?define("ionic4-hidenav",["exports","@angular/common","rxjs","@angular/core","@ionic/angular","@ionic-super-tabs/angular","jquery"],e):e(t["ionic4-hidenav"]={},t.ng.common,t.rxjs,t.ng.core,t.angular,t.angular$1,t.$)}(this,function(exports,common,rxjs,i0,angular,angular$1,$){"use strict";function __values(t){var e="function"==typeof Symbol&&t[Symbol.iterator],a=0;return e?e.call(t):{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}}}$=$&&$.hasOwnProperty("default")?$["default"]:$;var HidenavService=function(){function t(){this.data=[],this.names=[],this.tabnames=[]}return t.prototype.requestName=function(){var t="page"+this.names.length;return this.names.push(t),t},t.prototype.requestTabName=function(t){this.tabnames[t]||(this.tabnames[t]=[]);var e=t+"tab"+this.tabnames[t].length;return this.tabnames[t].push(e),e},t.prototype.initiate=function(t){var e,a,n=[];for(var i in this.data)this.data[i].parent==t&&n.push(i);try{for(var r=__values(n),s=r.next();!s.done;s=r.next()){var o=s.value;this.initiate2(o)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(a=r["return"])&&a.call(r)}finally{if(e)throw e.error}}0==n.length&&this.initiate2(t)},t.prototype.initiate2=function(r){var s=this;if(!(this.data[r]&&this.data[r].parent&&this.data[this.data[r].parent].tabscontent&&this.data[r].content&&this.data[this.data[r].parent].header||!this.data[r].parent&&this.data[r].content&&this.data[r].header))return!1;var o=this.data[r].parent,t=this.data[r].content,e=this.data[r].contentElem;if(null==this.data[r].scrollTop&&(this.data[r].scrollTop=0),null==this.data[r].lastscroll&&(this.data[r].lastscroll=0),null==this.data[r].direction&&(this.data[r].direction=""),null==this.data[r].tapping&&(this.data[r].tapping=!1),t.scrollEvents=!0,o){if(o){var l=this.data[o].header,d=this.data[o].tabscontentElem,h=d.nativeElement.querySelector("super-tabs-toolbar");setTimeout(function(){s.data[o].tabscontentHeight=d.nativeElement.scrollHeight;var n=e.nativeElement.shadowRoot.querySelector(".inner-scroll"),i=s.data[o].tabscontentElem.nativeElement.shadowRoot.querySelector(".inner-scroll");n.scrollHeight>n.clientHeight+100&&(s.data[r].navheight=s.data[o].header.nativeElement.offsetHeight,s.data[r].paddingTop=parseInt(window.getComputedStyle(n)["padding-top"],10)),t.ionScroll.subscribe(function(t){if(s.data[r].tapping&&n.scrollHeight>n.clientHeight+100)if(0==t.detail.scrollTop)h.style.position="static",n.style.paddingTop=s.data[r].paddingTop+"px",d.nativeElement.style.top=null,i.style.height=s.data[o].tabscontentHeight+"px",d.nativeElement.style.top=null;else{var e=t.detail.scrollTop;h.style.position="absolute",h.style.top=s.data[r].navheight+"px",i.style.height=s.data[o].tabscontentHeight+s.data[r].navheight+"px",d.nativeElement.style.top="-"+s.data[r].navheight+"px",n.style.paddingTop=s.data[r].paddingTop+h.clientHeight+s.data[r].navheight+"px",n.scrollTop=e}s.data[r].scrolling=!0;var a=s.data[r].lastscroll-t.detail.scrollTop;s.data[r].direction=0<a?"up":"down",s.data[r].lastscroll=t.detail.scrollTop,s.data[r].scrollTop=s.data[r].scrollTop-a,s.data[r].scrollTop>s.data[r].navheight&&(s.data[r].scrollTop=s.data[r].navheight),s.data[r].scrollTop<0&&(s.data[r].scrollTop=0),l.nativeElement.style.transform="translate3d(0, "+-s.data[r].scrollTop+"px, 0)",h.style.transform="translate3d(0, "+-s.data[r].scrollTop+"px, 0)"}),t.ionScrollEnd.subscribe(function(){setTimeout(function(){0==n.scrollTop&&(h.style.position="static",n.style.paddingTop=s.data[r].paddingTop+"px",d.nativeElement.style.top=null,i.style.height=s.data[o].tabscontentHeight+"px",d.nativeElement.style.top=null),s.data[r].scrolling=!1,s.c(r)},10)})},100),e.nativeElement.addEventListener("touchend",function(){s.data[r].tapping=!1,s.c(r)}),e.nativeElement.addEventListener("touchstart",function(){return s.data[r].tapping=!0})}}else{var n=this.data[r].header;setTimeout(function(){s.data[r].navheight=s.data[r].header.nativeElement.offsetHeight;var a=e.nativeElement.shadowRoot.querySelector(".inner-scroll");s.data[r].paddingTop=parseInt(window.getComputedStyle(a)["padding-top"],10),t.ionScroll.subscribe(function(t){if(0==t.detail.scrollTop?(a.style.top=null,a.style.paddingTop=s.data[r].paddingTop+"px"):(a.style.top="-"+s.data[r].navheight+"px",a.style.paddingTop=s.data[r].paddingTop+s.data[r].navheight+"px"),a.scrollHeight>a.clientHeight+100){s.data[r].scrolling=!0;var e=s.data[r].lastscroll-t.detail.scrollTop;s.data[r].direction=0<e?"up":"down",s.data[r].lastscroll=t.detail.scrollTop,s.data[r].scrollTop=s.data[r].scrollTop-e,s.data[r].scrollTop>s.data[r].navheight&&(s.data[r].scrollTop=s.data[r].navheight),s.data[r].scrollTop<0&&(s.data[r].scrollTop=0),n.nativeElement.style.transform="translate3d(0, "+-s.data[r].scrollTop+"px, 0)"}}),t.ionScrollEnd.subscribe(function(){setTimeout(function(){0==a.scrollTop&&(a.style.top=null,a.style.paddingTop=s.data[r].paddingTop+"px"),s.data[r].scrolling=!1,s.c(r)},10)})},100),e.nativeElement.addEventListener("touchend",function(){s.data[r].tapping=!1,s.c(r)}),e.nativeElement.addEventListener("touchstart",function(){return s.data[r].tapping=!0})}},t.prototype.c=function(t){if(this.data[t].tapping||this.data[t].scrolling)return!1;if(0==this.data[t].scrollTop||this.data[t].scrollTop==this.data[t].navheight)return!1;var e=this.data[t].content,a=this.data[t].scrollTop;"down"==this.data[t].direction?this.data[t].scrollTop<this.data[t].navheight&&e.scrollByPoint(0,this.data[t].navheight-a,6*(this.data[t].navheight-a)):"up"==this.data[t].direction&&this.data[t].scrollTop<this.data[t].navheight&&e.scrollByPoint(0,-a,6*a)},t.prototype.resetTabs=function(e,a){var n=this,i=this.data[e].header,r=this.data[e].tabscontentElem,s=r.nativeElement.querySelector("super-tabs-toolbar"),o=this.data[e].tabscontentElem.nativeElement.shadowRoot.querySelector(".inner-scroll"),l=this.data[a].contentElem.nativeElement.shadowRoot.querySelector(".inner-scroll");l.scrollTop=l.scrollTop-this.data[a].scrollTop,setTimeout(function(){if(0==l.scrollTop)s.style.position="static",l.style.paddingTop=n.data[a].paddingTop+"px",r.nativeElement.style.top=null,o.style.height=n.data[e].tabscontentHeight+"px",r.nativeElement.style.top=null;else{var t=l.scrollTop;s.style.position="absolute",s.style.top=n.data[a].navheight+"px",o.style.height=n.data[e].tabscontentHeight+n.data[a].navheight+"px",r.nativeElement.style.top="-"+n.data[a].navheight+"px",l.style.paddingTop=n.data[a].paddingTop+s.clientHeight+n.data[a].navheight+"px",l.scrollTop=t}i.nativeElement.style.transform=null,s.style.transform=null},20)},t.decorators=[{type:i0.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=i0.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),HidenavTabscontentDirective=function(){function t(t,e,a){this.el=t,this.contentElem=e,this.globals=a}return t.prototype.ngAfterViewInit=function(){var h=this;this.name=this.globals.requestName(),this.contentElem.nativeElement.setAttribute("hidenav-tabscontent",this.name),$("[hidenav-header]",$(this.contentElem.nativeElement).parents().get().find(function(t){return $(t).find("[hidenav-header]").length})).attr("hidenav-header",this.name),this.name&&("undefined"!=typeof this.globals.data[this.name]&&null!=this.globals.data[this.name]||(this.globals.data[this.name]=[]),this.globals.data[this.name].tabscontent=this.el,this.globals.data[this.name].tabscontentElem=this.contentElem,this.globals.initiate(this.name),this.supertabs&&this.supertabs.tabChange.subscribe(function(t){var e,a;if(1==t.detail.changed){var n=t.detail.index,i=h.contentElem.nativeElement.querySelectorAll("super-tab"),r=[];try{for(var s=__values(i),o=s.next();!o.done;o=s.next()){var l=o.value.querySelector("ion-content");l.attributes["hidenav-content"]?r.push(l.attributes["hidenav-content"].nodeValue):r.push(null)}}catch(d){e={error:d}}finally{try{o&&!o.done&&(a=s["return"])&&a.call(s)}finally{if(e)throw e.error}}null!=r[n]&&h.globals.resetTabs(h.name,r[n])}}))},t.prototype.ngOnDestroy=function(){this.name&&delete this.globals.data[this.name].tabscontent},t.decorators=[{type:i0.Directive,args:[{selector:"[hidenav-tabscontent]"}]}],t.ctorParameters=function(){return[{type:angular.IonContent,decorators:[{type:i0.Host},{type:i0.Self},{type:i0.Optional}]},{type:i0.ElementRef},{type:HidenavService}]},t.propDecorators={supertabs:[{type:i0.ContentChild,args:[i0.forwardRef(function(){return angular$1.SuperTabs})]}]},t}(),HidenavContentDirective=function(){function t(t,e,a){this.el=t,this.contentElem=e,this.globals=a}return t.prototype.ngAfterViewInit=function(){var e=this;if(this.contentElem.nativeElement.hasAttribute("hidenav-tabspage"))var a=0,n=setInterval(function(){var t=$(e.contentElem.nativeElement).closest("[hidenav-tabscontent]").attr("hidenav-tabscontent");a++,t&&0<t.length?(e.parent=$(e.contentElem.nativeElement).closest("[hidenav-tabscontent]").attr("hidenav-tabscontent"),e.name=e.globals.requestTabName(e.parent),$(e.contentElem.nativeElement).attr("hidenav-content",e.name),$(e.contentElem.nativeElement).attr("hidenav-tabspage",e.parent),e.start(),clearInterval(n)):50<a&&clearInterval(n)},50);else this.name=this.globals.requestName(),$(this.contentElem.nativeElement).attr("hidenav-content",this.name),$("[hidenav-header]",$(this.contentElem.nativeElement).parents().get().find(function(t){return $(t).find("[hidenav-header]").length})).attr("hidenav-header",this.name),this.start()},t.prototype.start=function(){this.name&&("undefined"!=typeof this.globals.data[this.name]&&null!=this.globals.data[this.name]||(this.globals.data[this.name]=[]),this.globals.data[this.name].content=this.el,this.globals.data[this.name].contentElem=this.contentElem,this.parent&&(this.globals.data[this.name].parent=this.parent),this.globals.initiate(this.name))},t.prototype.ngOnDestroy=function(){this.name&&delete this.globals.data[this.name].content},t.decorators=[{type:i0.Directive,args:[{selector:"[hidenav-content]"}]}],t.ctorParameters=function(){return[{type:angular.IonContent,decorators:[{type:i0.Host},{type:i0.Self},{type:i0.Optional}]},{type:i0.ElementRef},{type:HidenavService}]},t.propDecorators={hntb:[{type:i0.Input,args:["hidenav-tabspage"]}]},t}(),HidenavHeaderDirective=function(){function t(t,e){this.el=t,this.globals=e}return t.prototype.ngAfterViewInit=function(){var e=this,a=new MutationObserver(function(t){t.forEach(function(){0<e.el.nativeElement.getAttribute("hidenav-header").length&&(e.name=e.el.nativeElement.getAttribute("hidenav-header"),e.start(),a.disconnect())})});a.observe(this.el.nativeElement,{attributes:!0})},t.prototype.start=function(){if(this.name){if("undefined"!=typeof this.globals.data[this.name]&&null!=this.globals.data[this.name]||(this.globals.data[this.name]=[]),null!=this.globals.data[this.name].header)return!1;this.globals.data[this.name].header=this.el,this.globals.initiate(this.name)}},t.prototype.ngOnDestroy=function(){this.name&&delete this.globals.data[this.name].header},t.decorators=[{type:i0.Directive,args:[{selector:"[hidenav-header]"}]}],t.ctorParameters=function(){return[{type:i0.ElementRef},{type:HidenavService}]},t}(),HidenavShService=function(){function HidenavShService(){this.data=[],this.mode="ios",this.names=[],this.tabnames=[],this.scroll=new rxjs.Subject}return HidenavShService.prototype.requestName=function(){var t="page"+this.names.length;return this.names.push(t),t},HidenavShService.prototype.requestTabName=function(t){this.tabnames[t]||(this.tabnames[t]=[]);var e=t+"tab"+this.tabnames[t].length;return this.tabnames[t].push(e),e},HidenavShService.prototype.initiate=function(t){var e,a,n=[];for(var i in this.data)this.data[i].parent==t&&n.push(i);try{for(var r=__values(n),s=r.next();!s.done;s=r.next()){var o=s.value;this.initiate2(o)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(a=r["return"])&&a.call(r)}finally{if(e)throw e.error}}0==n.length&&this.initiate2(t)},HidenavShService.prototype.initiate2=function(t){if(!(this.data[t]&&this.data[t].parent&&this.data[this.data[t].parent]&&this.data[this.data[t].parent].tabscontent&&this.data[t].content&&this.data[this.data[t].parent].header||!this.data[t].parent&&this.data[t].content&&this.data[t].header))return!1;var e=this.data[t].parent,a=this.data[t].content;if(null==this.data[t].lastscroll&&(this.data[t].lastscroll=0),null==this.data[t].guardEvents&&(this.data[t].guardEvents=!0),a.scrollEvents=!0,e){if(e){r=this.data[e].header;var n=this.data[e].tabscontentElem;if(this.data[e]["static"]&&this.data[e]["static"].forEach(function(t){t.nativeElement.style.position="absolute",t.nativeElement.style.zIndex=102}),r){var i=n.nativeElement.querySelector("super-tabs-toolbar");s=r.nativeElement.parentNode,o=r.nativeElement;"true"==s.getAttribute("init-expanded")&&(this.data[t].initExpanded=!0),"true"==s.getAttribute("preserve-header")&&(this.data[t].preserveHeader=!0,this.data[e].preserveHeader=!0);l=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--ion-safe-area-top"),10);this.data[t].shrinkexpandheaderHeight=parseInt(s.getAttribute("header-height"),10)+l,this.data[t].opacityFactor=parseInt(s.getAttribute("opacity-factor"),10),this.data[t].opacityColor=o.getAttribute("opacity-color"),this.data[t].blurFactor=parseInt(s.getAttribute("blur-factor"),10),s.style.height=this.data[t].shrinkexpandheaderHeight+"px",s.style.overflow="hidden",s.style.position="absolute",o.style.position="absolute",s.style.width="100%",o.style.width="100%",i.style.position="absolute",i.style.transform="translate3d(0, "+this.data[t].shrinkexpandheaderHeight+"px, 0)",s.style.zIndex=101,this.waitforelemTabs(t,"this.data[this.data[name].parent].header.nativeElement.scrollHeight","this.data[this.data[name].parent].tabscontentElem.nativeElement.querySelector('super-tabs-toolbar').clientHeight","proceedShrinkExpandTabs")}}}else{var r=this.data[t].header;if(this.data[t]["static"]&&this.data[t]["static"].forEach(function(t){t.nativeElement.style.position="absolute",t.nativeElement.style.zIndex=102}),r){var s=r.nativeElement.parentNode,o=r.nativeElement;"true"==s.getAttribute("init-expanded")&&(this.data[t].initExpanded=!0);var l=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--ion-safe-area-top"),10);this.data[t].shrinkexpandheaderHeight=parseInt(s.getAttribute("header-height"),10)+l,this.data[t].opacityFactor=parseInt(s.getAttribute("opacity-factor"),10),this.data[t].opacityColor=s.getAttribute("opacity-color"),this.data[t].blurFactor=parseInt(s.getAttribute("blur-factor"),10),s.style.height=this.data[t].shrinkexpandheaderHeight+"px",s.style.overflow="hidden",s.style.position="absolute",o.style.position="absolute",s.style.width="100%",o.style.width="100%",this.waitforelem(t,"this.data[name].header.nativeElement.scrollHeight","proceedShrinkExpand")}}},HidenavShService.prototype.waitforelem=function(name,evaluate,func){var x=eval(evaluate);x<this.data[name].shrinkexpandheaderHeight?window.requestAnimationFrame(this.waitforelem.bind(this,name,evaluate,func)):this[func](name)},HidenavShService.prototype.waitforelemTabs=function(name,evaluate,evaluate2,func){var x=eval(evaluate),y=eval(evaluate2);x<this.data[name].shrinkexpandheaderHeight||0==y?window.requestAnimationFrame(this.waitforelemTabs.bind(this,name,evaluate,evaluate2,func)):this[func](name)},HidenavShService.prototype.proceedShrinkExpand=function(d){var h=this,c=this.data[d].header.nativeElement.parentNode,p=this.data[d].header.nativeElement,u=this.data[d].header.nativeElement.parentNode.querySelector(".overlay");this.data[d].opacityColor&&u.style.setProperty("--color",this.data[d].opacityColor),0<this.data[d].opacityFactor&&(u.style.setProperty("filter","opacity(var(--opacity))"),u.style.setProperty("--opacity",this.data[d].opacityFactor/10)),0<this.data[d].blurFactor&&(p.style.setProperty("filter","blur(var(--blur))"),p.style.setProperty("--blur",this.data[d].blurFactor/10)),this.data[d].shrinkexpandHeight=this.data[d].shrinkexpandheaderHeight,this.data[d].shrinkexpandHeight=this.data[d].header.nativeElement.scrollHeight,p.style.transform="translate3d(0, "+-(this.data[d].shrinkexpandHeight-this.data[d].shrinkexpandheaderHeight)/2+"px, 0)",this.data[d].content.getScrollElement().then(function(t){h.data[d].contentElem=t,h.data[d].paddingTop=parseInt(window.getComputedStyle(h.data[d].contentElem)["padding-top"],10),h.data[d].contentElem.style.paddingTop=h.data[d].shrinkexpandHeight+h.data[d].paddingTop+"px";var l=document.createElement("div");l.style.cssText="background:rgba(0,0,0,0)";var e=h.data[d].contentElem.scrollHeight+(h.data[d].shrinkexpandHeight-h.data[d].shrinkexpandheaderHeight);l.style.height=e+"px",setTimeout(function(){h.data[d].elemPadHeight=Math.max(0,e-(h.data[d].contentElem.scrollHeight-h.data[d].contentElem.offsetHeight)+(h.data[d].shrinkexpandHeight-h.data[d].shrinkexpandheaderHeight)),l.style.height=h.data[d].elemPadHeight+"px"},100),h.data[d].contentElem.appendChild(l);var a=h.data[d].initExpanded?2:h.data[d].shrinkexpandHeight-h.data[d].shrinkexpandheaderHeight;h.data[d].content.scrollByPoint(0,a,0).then(function(){h.data[d].contentHeight=h.data[d].contentEl.nativeElement.clientHeight,h.data[d].content.scrollEvents=!0,h.data[d].content.ionScroll.subscribe(function(t){if(0==t.detail.scrollTop)h.data[d].contentElem.style.paddingTop=0,h.data[d].contentEl.nativeElement.style.height=h.data[d].contentHeight-h.data[d].shrinkexpandHeight+"px",h.data[d].contentEl.nativeElement.style.top=h.data[d].shrinkexpandHeight+h.data[d].paddingTop+"px",l.style.height=h.data[d].elemPadHeight+h.data[d].shrinkexpandHeight+h.data[d].paddingTop+"px";else{var e=t.detail.scrollTop;h.data[d].contentElem.style.paddingTop=h.data[d].shrinkexpandHeight+h.data[d].paddingTop+"px",h.data[d].contentEl.nativeElement.style.height=h.data[d].contentHeight+h.data[d].shrinkexpandHeight+"px",h.data[d].contentEl.nativeElement.style.top=null,h.data[d].contentElem.scrollTop=e,l.style.height=h.data[d].elemPadHeight+"px"}h.data[d].initExpanded&&h.data[d].content.scrollToPoint(0,0,0).then(function(){h.data[d].initExpanded=!1}),h.data[d].initExpanded&&h.data[d].content.scrollToPoint(0,0,0).then(function(){h.data[d].initExpanded=!1});var a=Math.max(Math.min(h.data[d].shrinkexpandHeight,h.data[d].shrinkexpandHeight-t.detail.scrollTop),h.data[d].shrinkexpandheaderHeight);p.style.transform="translate3d(0, "+-Math.min((h.data[d].shrinkexpandHeight-h.data[d].shrinkexpandheaderHeight)/2,t.detail.scrollTop/2)+"px, 0)",c.style.height=a+"px";var n=Math.min(t.detail.scrollTop/(h.data[d].shrinkexpandHeight/2),1);if(0<=n){var i=u.style.getPropertyValue("--opacity"),r=h.data[d].opacityFactor/10*n;i!=r&&u.style.setProperty("--opacity",r);var s=p.style.getPropertyValue("--blur"),o=h.data[d].blurFactor*n+"px";s!=o&&p.style.setProperty("--blur",o)}setTimeout(function(){h.data[d].guardEvents=!1},10),h.data[d].lastscroll==a||h.data[d].guardEvents||h.scroll.next({name:h.data[d].parent?h.data[d].parent:d,height:a}),h.data[d].lastscroll=a}),h.data[d].content.ionScrollEnd.subscribe(function(){setTimeout(function(){0==h.data[d].contentElem.scrollTop&&(h.data[d].contentElem.style.paddingTop=0,h.data[d].contentEl.nativeElement.style.height=h.data[d].contentHeight-h.data[d].shrinkexpandHeight+"px",h.data[d].contentEl.nativeElement.style.top=h.data[d].shrinkexpandHeight+h.data[d].paddingTop+"px",l.style.height=h.data[d].elemPadHeight+h.data[d].shrinkexpandHeight+h.data[d].paddingTop+"px")},10)})})})},HidenavShService.prototype.proceedShrinkExpandTabs=function(d){var h=this,n=this.data[d].parent,c=this.data[n].header.nativeElement.parentNode,p=this.data[n].header.nativeElement,u=this.data[n].tabscontentElem.nativeElement.querySelector("super-tabs-toolbar"),v=this.data[n].header.nativeElement.parentNode.querySelector(".overlay");this.data[d].opacityColor&&v.style.setProperty("--color",this.data[d].opacityColor),0<this.data[d].opacityFactor&&(v.style.setProperty("filter","opacity(var(--opacity))"),v.style.setProperty("--opacity",this.data[d].opacityFactor/10)),0<this.data[d].blurFactor&&(p.style.setProperty("filter","blur(var(--blur))"),p.style.setProperty("--blur",this.data[d].blurFactor/10)),this.data[d].shrinkexpandHeight=this.data[d].shrinkexpandheaderHeight,this.data[d].shrinkexpandHeight=p.scrollHeight,p.style.transform="translate3d(0, "+-(this.data[d].shrinkexpandHeight-this.data[d].shrinkexpandheaderHeight)/2+"px, 0)",this.data[d].content.getScrollElement().then(function(t){h.data[d].contentElem=t,h.data[d].paddingTop=parseInt(window.getComputedStyle(h.data[d].contentElem)["padding-top"],10),h.data[d].contentElem.style.paddingTop=h.data[d].shrinkexpandHeight+u.clientHeight+h.data[d].paddingTop+"px",h.data[d].contentElem.style.height=h.data[n].tabscontentElem.nativeElement.clientHeight+"px";var l=document.createElement("div");l.style.cssText="background:rgba(0,0,0,0)";var e=h.data[d].contentElem.scrollHeight+(h.data[d].shrinkexpandHeight-h.data[d].shrinkexpandheaderHeight);l.style.height=e+"px",setTimeout(function(){h.data[d].elemPadHeight=Math.max(0,e-(h.data[d].contentElem.scrollHeight-h.data[d].contentElem.offsetHeight)+(h.data[d].shrinkexpandHeight-h.data[d].shrinkexpandheaderHeight)),l.style.height=h.data[d].elemPadHeight+"px"},100),h.data[d].contentElem.appendChild(l);var a=h.data[d].initExpanded?2:h.data[d].shrinkexpandHeight-h.data[d].shrinkexpandheaderHeight;h.data[d].content.scrollByPoint(0,a,0).then(function(){h.data[d].contentHeight=h.data[d].contentEl.nativeElement.clientHeight,h.data[d].content.scrollEvents=!0,h.data[d].content.ionScroll.subscribe(function(t){if(0==t.detail.scrollTop)h.data[d].contentElem.style.paddingTop=0,h.data[d].contentEl.nativeElement.style.height=h.data[d].contentHeight-(h.data[d].shrinkexpandHeight+u.clientHeight)+"px",h.data[d].contentEl.nativeElement.style.top=h.data[d].shrinkexpandHeight+u.clientHeight+h.data[d].paddingTop+"px",l.style.height=h.data[d].elemPadHeight+h.data[d].shrinkexpandHeight+h.data[d].paddingTop+u.clientHeight+"px";else{var e=t.detail.scrollTop;h.data[d].contentElem.style.paddingTop=h.data[d].shrinkexpandHeight+u.clientHeight+h.data[d].paddingTop+"px",h.data[d].contentEl.nativeElement.style.height=h.data[d].contentHeight+h.data[d].shrinkexpandHeight+u.clientHeight+"px",h.data[d].contentEl.nativeElement.style.top=null,h.data[d].contentElem.scrollTop=e,l.style.height=h.data[d].elemPadHeight+"px"}h.data[d].initExpanded&&h.data[d].content.scrollToPoint(0,0,0).then(function(){h.data[d].initExpanded=!1});var a=Math.max(Math.min(h.data[d].shrinkexpandHeight,h.data[d].shrinkexpandHeight-t.detail.scrollTop),h.data[d].shrinkexpandheaderHeight);p.style.transform="translate3d(0, "+-Math.min((h.data[d].shrinkexpandHeight-h.data[d].shrinkexpandheaderHeight)/2,t.detail.scrollTop/2)+"px, 0)",c.style.height=a+"px";var n=Math.min(t.detail.scrollTop/(h.data[d].shrinkexpandHeight/2),1);if(0<=n){var i=v.style.getPropertyValue("--opacity"),r=h.data[d].opacityFactor/10*n;i!=r&&v.style.setProperty("--opacity",r);var s=p.style.getPropertyValue("--blur"),o=h.data[d].blurFactor*n+"px";s!=o&&p.style.setProperty("--blur",o)}u.style.transform="translate3d(0, "+a+"px, 0)",setTimeout(function(){h.data[d].guardEvents=!1},10),h.data[d].lastscroll==a||h.data[d].guardEvents||h.scroll.next({name:h.data[d].parent?h.data[d].parent:d,height:a}),h.data[d].lastscroll=a}),h.data[d].content.ionScrollEnd.subscribe(function(){setTimeout(function(){0==h.data[d].contentElem.scrollTop&&(h.data[d].contentElem.style.paddingTop=0,h.data[d].contentEl.nativeElement.style.height=h.data[d].contentHeight-(h.data[d].shrinkexpandHeight+u.clientHeight)+"px",h.data[d].contentEl.nativeElement.style.top=h.data[d].shrinkexpandHeight+u.clientHeight+h.data[d].paddingTop+"px",l.style.height=h.data[d].elemPadHeight+h.data[d].shrinkexpandHeight+h.data[d].paddingTop+u.clientHeight+"px")},10)})})})},HidenavShService.prototype.resetContent=function(t){if(this.data[t].preserveHeader){var e=this.data[t].parent,a=this.data[e].header.nativeElement.parentNode,n=this.data[e].header.nativeElement,i=this.data[e].tabscontentElem.nativeElement.querySelector("super-tabs-toolbar"),r=this.data[e].header.nativeElement.parentNode.querySelector(".overlay");s=Math.max(Math.min(this.data[t].shrinkexpandHeight,this.data[t].shrinkexpandHeight-this.data[t].contentElem.scrollTop),this.data[t].shrinkexpandheaderHeight);n.style.transform="translate3d(0, "+-Math.min((this.data[t].shrinkexpandHeight-this.data[t].shrinkexpandheaderHeight)/2,this.data[t].contentElem.scrollTop/2)+"px, 0)",a.style.height=s+"px",r.style.setProperty("--opacity",this.data[t].opacityFactor/10*Math.min(this.data[t].contentElem.scrollTop/(this.data[t].shrinkexpandHeight/2),1)),n.style.setProperty("--blur",this.data[t].blurFactor*Math.min(this.data[t].contentElem.scrollTop/(this.data[t].shrinkexpandHeight/2),1)+"px"),i.style.transform="translate3d(0, "+s+"px, 0)",this.scroll.next({name:this.data[t].parent,height:s})}else{var s,o=this.data[t].parent;((s=parseInt(this.data[o].header.nativeElement.parentNode.style.height,10))<=this.data[t].shrinkexpandHeight&&s>this.data[t].shrinkexpandheaderHeight||s==this.data[t].shrinkexpandheaderHeight&&this.data[t].contentElem.scrollTop<this.data[t].shrinkexpandHeight-this.data[t].shrinkexpandheaderHeight)&&(this.data[t].contentElem.scrollTop=this.data[t].shrinkexpandHeight-s)}},HidenavShService.prototype.findCurrentTab=function(t){var e,a,n=this.data[t].supertabs.activeTabIndex,i=this.data[t].tabscontentElem.nativeElement.querySelectorAll("super-tab"),r=[];try{for(var s=__values(i),o=s.next();!o.done;o=s.next()){var l=o.value.querySelector("ion-content");l.attributes["hidenav-sh-content"]?r.push(l.attributes["hidenav-sh-content"].nodeValue):r.push(null)}}catch(d){e={error:d}}finally{try{o&&!o.done&&(a=s["return"])&&a.call(s)}finally{if(e)throw e.error}}return null!=r[n]?r[n]:null},HidenavShService.prototype.expand=function(t,e){var a,n;if(void 0===e&&(e=200),this.data[t].content)this.data[t].content.scrollToPoint(0,0,e);else if(this.data[t].preserveHeader){var i=this.findCurrentTab(t);this.data[i].content.scrollToPoint(0,0,e)}else{var r=[];for(var s in this.data)this.data[s].parent==t&&r.push(s);try{for(var o=__values(r),l=o.next();!l.done;l=o.next()){var d=l.value;this.data[d].content.scrollToPoint(0,0,e)}}catch(h){a={error:h}}finally{try{l&&!l.done&&(n=o["return"])&&n.call(o)}finally{if(a)throw a.error}}}},HidenavShService.prototype.shrink=function(t,e){var a,n;if(void 0===e&&(e=200),parseInt(this.data[t].header.nativeElement.parentNode.style.height,10)>this.data[t].shrinkexpandheaderHeight)if(this.data[t].content)this.data[t].content.scrollToPoint(0,this.data[t].shrinkexpandHeight-this.data[t].shrinkexpandheaderHeight,e);else if(this.data[t].preserveHeader){var i=this.findCurrentTab(t);this.data[i].content.scrollToPoint(0,this.data[i].shrinkexpandHeight-this.data[i].shrinkexpandheaderHeight,e)}else{var r=[];for(var s in this.data)this.data[s].parent==t&&r.push(s);try{for(var o=__values(r),l=o.next();!l.done;l=o.next()){var d=l.value;this.data[d].content.scrollToPoint(0,this.data[d].shrinkexpandHeight-this.data[d].shrinkexpandheaderHeight,e)}}catch(h){a={error:h}}finally{try{l&&!l.done&&(n=o["return"])&&n.call(o)}finally{if(a)throw a.error}}}},HidenavShService.prototype.toggle=function(t,e){var a,n;if(void 0===e&&(e=200),this.data[t].content)(o=parseInt(this.data[t].header.nativeElement.parentNode.style.height,10))<this.data[t].shrinkexpandHeight?this.data[t].content.scrollToPoint(0,0,e):this.data[t].content.scrollToPoint(0,this.data[t].shrinkexpandHeight-this.data[t].shrinkexpandheaderHeight,e);else if(this.data[t].preserveHeader){var i=this.findCurrentTab(t);(o=parseInt(this.data[t].header.nativeElement.parentNode.style.height,10))<this.data[i].shrinkexpandHeight?this.data[i].content.scrollToPoint(0,0,e):this.data[i].content.scrollToPoint(0,this.data[i].shrinkexpandHeight-this.data[i].shrinkexpandheaderHeight,e)}else{var r=[];for(var s in this.data)this.data[s].parent==t&&r.push(s);var o=parseInt(this.data[t].header.nativeElement.parentNode.style.height,10);try{for(var l=__values(r),d=l.next();!d.done;d=l.next()){var h=d.value;o<this.data[h].shrinkexpandHeight?this.data[h].content.scrollToPoint(0,0,e):this.data[h].content.scrollToPoint(0,this.data[h].shrinkexpandHeight-this.data[h].shrinkexpandheaderHeight,e)}}catch(c){a={error:c}}finally{try{d&&!d.done&&(n=l["return"])&&n.call(l)}finally{if(a)throw a.error}}}},HidenavShService.decorators=[{type:i0.Injectable,args:[{providedIn:"root"}]}],HidenavShService.ctorParameters=function(){return[]},HidenavShService.ngInjectableDef=i0.defineInjectable({factory:function(){return new HidenavShService},token:HidenavShService,providedIn:"root"}),HidenavShService}(),HidenavStretchheaderComponent=function(){function t(t,e){this.el=t,this.globals=e,this.scroll=new i0.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var e=this,a=new MutationObserver(function(t){t.forEach(function(){0<e.el.nativeElement.getAttribute("hidenav-sh-header").length&&(e.name=e.el.nativeElement.getAttribute("hidenav-sh-header"),e.start(),a.disconnect())})});a.observe(this.el.nativeElement,{attributes:!0})},t.prototype.start=function(){var e=this;if(this.name&&("undefined"!=typeof this.globals.data[this.name]&&null!=this.globals.data[this.name]||(this.globals.data[this.name]=[]),this.globals.data[this.name].header=this.header,this.globals.data[this.name]["static"]=this["static"],this.globals.initiate(this.name),this.globals.scroll.subscribe(function(t){t.name==e.name&&e.scroll.emit(t.height)}),"true"!=this.noBorder)){var t=document.querySelector("html").getAttribute("mode");setTimeout(function(){"undefined"==typeof e["class"]?e["class"]=t:e["class"]+=" "+t},0)}},t.prototype.expand=function(t){void 0===t&&(t=200),this.globals.expand(this.name,t)},t.prototype.shrink=function(t){void 0===t&&(t=200),this.globals.shrink(this.name,t)},t.prototype.toggle=function(t){void 0===t&&(t=200),this.globals.toggle(this.name,t)},t.prototype.ngOnDestroy=function(){this.name&&delete this.globals.data[this.name].header},t.decorators=[{type:i0.Component,args:[{selector:"hidenav-stretchheader",template:'\n        <style>\n            .overlay {\n                position: absolute;\n                height: inherit;\n                width: inherit;\n                z-index: 101;\n                pointer-events: none;\n                /*opacity: var(--opacity);*/\n                background: var(--color);\n                filter: opacity(0);\n                --opacity: 0;\n                --color: black;\n            }\n\n            :host {\n                --blur: 0;\n                z-index: 1;\n            }\n\n            :host.md {\n                -webkit-box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.53);\n                -moz-box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.53);\n                box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.53);\n            }\n\n            :host.ios {\n                border-bottom: 1px solid #5a5e63;\n            }\n        </style>\n        <div class="overlay"></div>\n        <ng-content></ng-content>\n    '}]}],t.ctorParameters=function(){return[{type:i0.ElementRef},{type:HidenavShService}]},t.propDecorators={header:[{type:i0.ContentChild,args:["shrinkexpand",{read:i0.ElementRef}]}],"static":[{type:i0.ContentChildren,args:["static",{read:i0.ElementRef}]}],"class":[{type:i0.HostBinding,args:["class"]}],noBorder:[{type:i0.Input,args:["no-border"]}],headerHeight:[{type:i0.Input,args:["header-height"]}],initExpanded:[{type:i0.Input,args:["init-expanded"]}],opacityColor:[{type:i0.Input,args:["opacity-color"]}],opacityFactor:[{type:i0.Input,args:["opacity-factor"]}],blurFactor:[{type:i0.Input,args:["blur-factor"]}],preserveHeader:[{type:i0.Input,args:["preserve-header"]}],scroll:[{type:i0.Output}]},t}(),HidenavShContentDirective=function(){function t(t,e,a){this.el=t,this.contentElem=e,this.globals=a}return t.prototype.ngAfterViewInit=function(){var e=this;if(this.contentElem.nativeElement.hasAttribute("hidenav-tabspage"))var a=0,n=setInterval(function(){var t=$(e.contentElem.nativeElement).closest("[hidenav-sh-tabscontent]").attr("hidenav-sh-tabscontent");a++,t&&0<t.length?(e.parent=$(e.contentElem.nativeElement).closest("[hidenav-sh-tabscontent]").attr("hidenav-sh-tabscontent"),e.name=e.globals.requestTabName(e.parent),$(e.contentElem.nativeElement).attr("hidenav-sh-content",e.name),$(e.contentElem.nativeElement).attr("hidenav-tabspage",e.parent),e.start(),clearInterval(n)):50<a&&clearInterval(n)},50);else this.name=this.globals.requestName(),$(this.contentElem.nativeElement).attr("hidenav-sh-content",this.name),$("hidenav-stretchheader",$(this.contentElem.nativeElement).parents().get().find(function(t){return $(t).find("[hidenav-header]").length})).attr("hidenav-sh-header",this.name),this.start()},t.prototype.start=function(){this.name&&("undefined"!=typeof this.globals.data[this.name]&&null!=this.globals.data[this.name]||(this.globals.data[this.name]=[]),this.globals.data[this.name].content=this.el,this.globals.data[this.name].contentEl=this.contentElem,this.parent&&(this.globals.data[this.name].parent=this.parent),this.globals.initiate(this.name))},t.prototype.ngOnDestroy=function(){this.name&&delete this.globals.data[this.name].content},t.decorators=[{type:i0.Directive,args:[{selector:"[hidenav-sh-content]"}]}],t.ctorParameters=function(){return[{type:angular.IonContent,decorators:[{type:i0.Host},{type:i0.Self},{type:i0.Optional}]},{type:i0.ElementRef},{type:HidenavShService}]},t.propDecorators={hntb:[{type:i0.Input,args:["hidenav-tabspage"]}]},t}(),HidenavShTabscontentDirective=function(){function t(t,e,a){this.contentElem=t,this.el=e,this.globals=a}return t.prototype.ngAfterViewInit=function(){var h=this;this.name=this.globals.requestName(),this.contentElem.nativeElement.setAttribute("hidenav-sh-tabscontent",this.name),$("hidenav-stretchheader",$(this.contentElem.nativeElement).parents().get().find(function(t){return $(t).find("[hidenav-stretchheader]").length})).attr("hidenav-sh-header",this.name),this.name&&("undefined"!=typeof this.globals.data[this.name]&&null!=this.globals.data[this.name]||(this.globals.data[this.name]=[]),this.globals.data[this.name].tabscontent=this.el,this.globals.data[this.name].tabscontentElem=this.contentElem,this.globals.data[this.name].supertabs=this.supertabs,this.globals.initiate(this.name),this.supertabs.tabChange.subscribe(function(t){var e,a,n=t.detail.index,i=h.contentElem.nativeElement.querySelectorAll("super-tab"),r=[];try{for(var s=__values(i),o=s.next();!o.done;o=s.next()){var l=o.value.querySelector("ion-content");null!=l&&"undefined"!=typeof l.attributes["hidenav-sh-content"]&&""!=l.attributes["hidenav-sh-content"].nodeValue?r.push(l.attributes["hidenav-sh-content"].nodeValue):r.push(null)}}catch(d){e={error:d}}finally{try{o&&!o.done&&(a=s["return"])&&a.call(s)}finally{if(e)throw e.error}}null!=r[n]&&h.globals.resetContent(r[n])}))},t.prototype.ngOnDestroy=function(){delete this.globals.data[this.name].tabscontent},t.decorators=[{type:i0.Directive,args:[{selector:"[hidenav-sh-tabscontent]"}]}],t.ctorParameters=function(){return[{type:i0.ElementRef},{type:angular.IonContent,decorators:[{type:i0.Host},{type:i0.Self},{type:i0.Optional}]},{type:HidenavShService}]},t.propDecorators={supertabs:[{type:i0.ContentChild,args:[angular$1.SuperTabs]}]},t}(),HidenavModule=function(){function t(){}return t.decorators=[{type:i0.NgModule,args:[{imports:[common.CommonModule],declarations:[HidenavTabscontentDirective,HidenavContentDirective,HidenavHeaderDirective,HidenavStretchheaderComponent,HidenavShContentDirective,HidenavShTabscontentDirective],exports:[HidenavTabscontentDirective,HidenavContentDirective,HidenavHeaderDirective,HidenavStretchheaderComponent,HidenavShContentDirective,HidenavShTabscontentDirective]}]}],t}();exports.HidenavModule=HidenavModule,exports.HidenavContentDirective=HidenavContentDirective,exports.HidenavHeaderDirective=HidenavHeaderDirective,exports.HidenavService=HidenavService,exports.HidenavShContentDirective=HidenavShContentDirective,exports.HidenavShService=HidenavShService,exports.HidenavShTabscontentDirective=HidenavShTabscontentDirective,exports.HidenavStretchheaderComponent=HidenavStretchheaderComponent,exports.HidenavTabscontentDirective=HidenavTabscontentDirective,Object.defineProperty(exports,"__esModule",{value:!0})});
//# sourceMappingURL=ionic4-hidenav.umd.min.js.map